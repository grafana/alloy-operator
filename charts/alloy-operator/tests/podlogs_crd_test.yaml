# yamllint disable rule:document-start rule:line-length rule:trailing-spaces
suite: Test PodLogs CRD
templates:
  - charts/podlogs-crd/templates/crds/monitoring.grafana.com_podlogs.yaml
tests:
  - it: can deploy only the PodLogs CRD
    set:
      crds:
        deployAlloyCRD: false
        deployPodLogsCRD: true
    asserts:
      - not: true
        containsDocument:
          apiVersion: apiextensions.k8s.io/v1
          kind: CustomResourceDefinition
          name: alloys.collectors.grafana.com
      - containsDocument:
          apiVersion: apiextensions.k8s.io/v1
          kind: CustomResourceDefinition
          name: podlogs.monitoring.grafana.com
